

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Welcome to CoolProp &mdash; CoolProp v1.0.0 documentation</title>
    <link rel="stylesheet" href="_static/sphinxdoc.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '',
        VERSION:     '1.0.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="top" title="CoolProp v1.0.0 documentation" href="#" />
    <link rel="next" title="Installation and Compilation" href="Installation.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="Installation.html" title="Installation and Compilation"
             accesskey="N">next</a> |</li>
        <li><a href="#">CoolProp v1.0.0 documentation</a> &raquo;</li> 
      </ul>
    </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h3><a href="#">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Welcome to CoolProp</a><ul>
<li><a class="reference internal" href="#what-it-is">What it is:</a></li>
<li><a class="reference internal" href="#who-made-it">Who made it?</a></li>
<li><a class="reference internal" href="#how-to-get-it">How to get it?</a></li>
<li><a class="reference internal" href="#how-do-i-use-it-5-seconds-introduction">How do I use it (5 seconds introduction)?</a><ul>
<li><a class="reference internal" href="#matlab-and-languages-other-than-python">MATLAB and languages other than Python:</a></li>
<li><a class="reference internal" href="#python">Python:</a></li>
</ul>
</li>
<li><a class="reference internal" href="#residual-helmholtz-equation-of-state">Residual Helmholtz Equation of State</a><ul>
<li><a class="reference internal" href="#introduction">Introduction</a></li>
<li><a class="reference internal" href="#mathematical-description">Mathematical Description</a></li>
<li><a class="reference internal" href="#saturation-state">Saturation State</a></li>
</ul>
</li>
</ul>
</li>
</ul>

  <h4>Next topic</h4>
  <p class="topless"><a href="Installation.html"
                        title="next chapter">Installation and Compilation</a></p>
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="_sources/index.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" size="18" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="welcome-to-coolprop">
<h1>Welcome to CoolProp<a class="headerlink" href="#welcome-to-coolprop" title="Permalink to this headline">¶</a></h1>
<div class="toctree-wrapper compound">
<ul>
<li class="toctree-l1"><a class="reference internal" href="Installation.html">Installation and Compilation</a></li>
<li class="toctree-l1"><a class="reference internal" href="Installation.html#developer-notes">Developer Notes:</a></li>
</ul>
</div>
<div class="section" id="what-it-is">
<h2>What it is:<a class="headerlink" href="#what-it-is" title="Permalink to this headline">¶</a></h2>
<p>An open-source database of refrigerant properties, for use in a wide range of programming environments.  The current refrigerants available at this time are</p>
<ul class="simple">
<li>Argon</li>
<li>Nitrogen</li>
<li>R134a</li>
<li>R290 (Propane)</li>
<li>R32 (No transport properties)</li>
<li>R404A (Pseudo-pure properties)</li>
<li>R407C (Pseudo-pure properties)</li>
<li>R410A (Pseudo-pure properties)</li>
<li>R507A (Pseudo-pure properties)</li>
<li>R717 (Ammonia)</li>
<li>R744 (Carbon Dioxide)</li>
</ul>
<p>Originally developed for use in the programming language c, wrappers have been written for Python, and a DLL that can be called from any other language.  In addition, so called flooded properties are included for a mixture of liquids and refrigerants.</p>
</div>
<div class="section" id="who-made-it">
<h2>Who made it?<a class="headerlink" href="#who-made-it" title="Permalink to this headline">¶</a></h2>
<p>Ian Bell (ian.h.bell .at. gmail.com), during his time as a Ph.D. student in the Herrick Laboratories of Purdue University.</p>
</div>
<div class="section" id="how-to-get-it">
<h2>How to get it?<a class="headerlink" href="#how-to-get-it" title="Permalink to this headline">¶</a></h2>
<p>To grab a zip file with the CoolProp DLL, head to <a class="reference external" href="https://sourceforge.net/projects/coolprop/files/">https://sourceforge.net/projects/coolprop/files/</a> and download the most recent version.  Or to pull CoolProp source code or Python installer files.</p>
<p>CoolProp is an open-source project, and is actively looking for developers.  The project is hosted in a subversion repository at <a class="reference external" href="http://coolprop.svn.sourceforge.net/viewvc/coolprop/trunk/">http://coolprop.svn.sourceforge.net/viewvc/coolprop/trunk/</a> .  In order to download the sources, click on the &#8220;Download GNU tarball&#8221; at the bottom of the page.  To unpack the tarball, <a class="reference external" href="http://www.7-zip.org">7-zip</a>  is recommended.</p>
</div>
<div class="section" id="how-do-i-use-it-5-seconds-introduction">
<h2>How do I use it (5 seconds introduction)?<a class="headerlink" href="#how-do-i-use-it-5-seconds-introduction" title="Permalink to this headline">¶</a></h2>
<div class="section" id="matlab-and-languages-other-than-python">
<h3>MATLAB and languages other than Python:<a class="headerlink" href="#matlab-and-languages-other-than-python" title="Permalink to this headline">¶</a></h3>
<p>The source folder includes a folder unimaginatively called &#8220;Examples&#8221;.  In there is an example using MATLAB, copied verbatim:</p>
<div class="highlight-python"><pre>addpath('../CoolPropDLL')
loadlibrary('CoolPropDLL','CoolProp_dll.h')
libfunctions CoolPropDLL -full
disp 'The critical temperature of R410A is:'
res=calllib('CoolPropDLL','Tcrit_dll','R410A');
disp(res)
disp 'The saturated vapor enthalpy of Propane at 275 K is:'
h=calllib('CoolPropDLL','Props_dll',int8('H'),int8('T'),275.0,int8('Q'),1.0,'R290');
disp(h)
disp 'The density of nitrogen at STP is:'
rho=calllib('CoolPropDLL','Props_dll',int8('D'),int8('T'),298.0,int8('P'),101.325,'Nitrogen');
disp(rho)
unloadlibrary('CoolPropDLL')</pre>
</div>
<p>which yields:</p>
<div class="highlight-python"><pre>Functions in library CoolPropDLL:

Help_dll
[double, cstring] Props_dll(int8, int8, double, int8, double, cstring)
[double, cstring] T_hp_dll(cstring, double, double, double)
[double, cstring] Tcrit_dll(cstring)
[double, cstring] Tsat_dll(cstring, double, double, double)
[int32, cstring] errCode_dll(cstring)
[double, cstring] h_sp_dll(cstring, double, double, double)
[double, cstring] pcrit_dll(cstring)


The critical temperature of R410A is:
  344.4940

The saturated vapor enthalpy of Propane at 275 K is:
  576.7495

The density of nitrogen at STP is:
    1.1458</pre>
</div>
<p>This example assumes that the compiled CoolpropDLL.dll and CoolProp_dll.h are located either on the MATLAB path somewhere, or in this case in particular, that the DLL is located one folder up and in the CoolPropDLL folder (that&#8217;s what the relative path &#8216;..&#8217; means).  The protocol should remain basically the same for other programming languages other than Python.</p>
<p>This example demonstrates the two main types of calls to Coolprop</p>
<ul class="simple">
<li>Saturation temperature known in the two phase region</li>
<li>Temperature and pressure known away from two-phase dome</li>
</ul>
<p>See the rest of the documentation for further information.</p>
</div>
<div class="section" id="python">
<h3>Python:<a class="headerlink" href="#python" title="Permalink to this headline">¶</a></h3>
<p>Python is very well suited to the use of code programmed in C.  With the use of SWIG, VERY minimal modifications are required to call c-code from Python.  With CoolProp installed properly, the same example as for MATLAB shows the Python syntax:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">from</span> <span class="nn">CoolProp</span> <span class="kn">import</span> <span class="n">CoolProp</span> <span class="k">as</span> <span class="n">cp</span>

<span class="c">#Print out the help files</span>
<span class="n">cp</span><span class="o">.</span><span class="n">Help</span><span class="p">()</span>

<span class="k">print</span> <span class="s">&#39;The functions available are:&#39;</span>
<span class="k">print</span> <span class="nb">dir</span><span class="p">(</span><span class="n">cp</span><span class="p">)</span>

<span class="k">print</span> <span class="s">&#39;The critical temperature of R410A is: </span><span class="si">%g</span><span class="s"> K&#39;</span> <span class="o">%</span><span class="p">(</span><span class="n">cp</span><span class="o">.</span><span class="n">Tcrit</span><span class="p">(</span><span class="s">&#39;R410A&#39;</span><span class="p">),)</span>
<span class="k">print</span> <span class="s">&#39;The saturated vapor enthalpy of Propane at 275 K is: </span><span class="si">%g</span><span class="s"> kJ/kg&#39;</span> <span class="o">%</span><span class="p">(</span><span class="n">cp</span><span class="o">.</span><span class="n">Props</span><span class="p">(</span><span class="s">&#39;H&#39;</span><span class="p">,</span><span class="s">&#39;T&#39;</span><span class="p">,</span><span class="mf">275.0</span><span class="p">,</span><span class="s">&#39;Q&#39;</span><span class="p">,</span><span class="mf">1.0</span><span class="p">,</span><span class="s">&#39;R290&#39;</span><span class="p">))</span>

<span class="n">rho_N2</span><span class="o">=</span><span class="n">cp</span><span class="o">.</span><span class="n">Props</span><span class="p">(</span><span class="s">&#39;H&#39;</span><span class="p">,</span><span class="s">&#39;T&#39;</span><span class="p">,</span><span class="mf">298.0</span><span class="p">,</span><span class="s">&#39;P&#39;</span><span class="p">,</span><span class="mf">101.325</span><span class="p">,</span><span class="s">&#39;Nitrogen&#39;</span><span class="p">)</span>
<span class="k">print</span> <span class="s">&#39;The density of nitrogen at STP is: </span><span class="si">%g</span><span class="s"> kg/m^3&#39;</span> <span class="o">%</span><span class="p">(</span><span class="n">rho_N2</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="residual-helmholtz-equation-of-state">
<h2>Residual Helmholtz Equation of State<a class="headerlink" href="#residual-helmholtz-equation-of-state" title="Permalink to this headline">¶</a></h2>
<div class="section" id="introduction">
<h3>Introduction<a class="headerlink" href="#introduction" title="Permalink to this headline">¶</a></h3>
<p>Nearly all the fluids modeling in CoolProp are based on Helmholtz function formulations.  This is a convenient construction of the equation of state because all the thermodynamic properties of interest can be obtained directly from partial derivatives of the helmholtz function.</p>
<p>It should be noted that the EOS are typically valid over the entire range of the fluid, from subcooled liquid to superheated vapor, to supercritical fluid.</p>
<p>Annoyingly, different authors have selected different sets of nomenclature for the Helmholtz formulation.  For consistency, the nomenclature of Lemmon will be used here.  Also, some authors present results on a mole-basis or mass-basis, further complicating comparisons.</p>
</div>
<div class="section" id="mathematical-description">
<h3>Mathematical Description<a class="headerlink" href="#mathematical-description" title="Permalink to this headline">¶</a></h3>
<p>In general, the EOS are based on non-dimensional terms <img class="math" src="_images/math/0a42a8b725c200085e5253db2d2fbf8dab898a8f.png" alt="\delta"/> and <img class="math" src="_images/math/1dc1c0119a604b91be9142370dc3159b6a9bbcb9.png" alt="\tau"/>, where these terms are defined by</p>
<div class="math">
<p><img src="_images/math/997572be95d4d24e3e7775c3994cd8828304823e.png" alt="\delta=\rho/\rho_c

\tau=T_c/T" /></p>
</div><p>where <img class="math" src="_images/math/26256b5a315c2838ed02b74db5a3f260ef215872.png" alt="\rho_c"/> and <img class="math" src="_images/math/62e283745885ada17f0044a4250f6c451d727ce4.png" alt="T_c"/> are the critical density of the fluid if it is a pure fluid.  For pseudo-pure mixtures, the critical point is typically not used as the reducing state point, and often the maximum condensing temperature on the saturation curve is used instead.</p>
<p>The non-dimensional Helmholtz energy of the fluid is given by</p>
<div class="math">
<p><img src="_images/math/1e68d2a9729d02273346eca386961253bd18e96e.png" alt="\alpha=\alpha^0+\alpha^r" /></p>
</div><p>where <img class="math" src="_images/math/11ea5ee4eb2bac30c571d7af87c1027f1cab96b1.png" alt="\alpha^0"/> is the ideal-gas contribution to the Helmholtz energy, and <img class="math" src="_images/math/2918dcdaa875d57ed5bd28c48f93cff09c6af1c0.png" alt="\alpha^r"/> is the residual Helmholtz energy contribution which accounts for non-ideal behavior.  For a given set of <img class="math" src="_images/math/0a42a8b725c200085e5253db2d2fbf8dab898a8f.png" alt="\delta"/> and <img class="math" src="_images/math/1dc1c0119a604b91be9142370dc3159b6a9bbcb9.png" alt="\tau"/>, each of the terms <img class="math" src="_images/math/11ea5ee4eb2bac30c571d7af87c1027f1cab96b1.png" alt="\alpha^0"/> and <img class="math" src="_images/math/2918dcdaa875d57ed5bd28c48f93cff09c6af1c0.png" alt="\alpha^r"/> are known.  The exact form of the Helmholtz energy terms is fluid dependent, but a relatively simple example is that of Nitrogen, which has the ideal-gas Helmholtz energy of</p>
<div class="math">
<p><img src="_images/math/ca83cbb2da8bf5d7d2683d41de6c7a79bc75edcd.png" alt="\alpha^0=\ln\delta+a_1\ln\tau+a_2+a_3\tau+a_4\tau^{-1}+a_5\tau^{-2}+a_6\tau^{-3}+a_7\ln[1-\exp(-a_8\tau)]" /></p>
</div><p>and the non-dimensional residual Helmholtz energy of</p>
<div class="math">
<p><img src="_images/math/a9c53c43f2f6fd71c16b2d099a5d46a5251cfaf5.png" alt="\alpha^r=\sum_{k=1}^{6}{N_k\delta^{i_k}\tau^{j_k}}+\sum_{k=7}^{32}{N_k\delta^{i_k}\tau^{j_k}\exp(-\delta^{l_k})}+\sum_{k=33}^{36}{N_k\delta^{i_k}\tau^{j_k}\exp(-\phi_k(\delta-1)^2-\beta_k(\tau-\gamma_k)^2)}" /></p>
</div><p>and all the terms other than <img class="math" src="_images/math/0a42a8b725c200085e5253db2d2fbf8dab898a8f.png" alt="\delta"/> and <img class="math" src="_images/math/1dc1c0119a604b91be9142370dc3159b6a9bbcb9.png" alt="\tau"/> are fluid-dependent correlation parameters.</p>
<p>The other thermodynamic parameters can then be obtained through analytic derivatives of the Helmholtz energy terms.  For instance, the pressure is given by</p>
<div class="math">
<p><img src="_images/math/042256a34af6103acefb171d7b634a2facb0c80f.png" alt="p=\rho RT\left[1+\delta\left(\frac{\partial \alpha^r}{\partial \delta}\right)_{\tau} \right]" /></p>
</div><p>and the specific internal energy by</p>
<div class="math">
<p><img src="_images/math/57251306febc9ca3664386b9e189e6b96b07d451.png" alt="\frac{u}{RT}=\tau \left[\left(\frac{\partial \alpha^0}{\partial \tau}\right)_{\delta}+ \left(\frac{\partial \alpha^r}{\partial \tau}\right)_{\delta} \right]" /></p>
</div><p>and the specific enthalpy by</p>
<div class="math">
<p><img src="_images/math/c002079f186d5dba17f795660994a75f61ddd827.png" alt="\frac{h}{RT}=\tau \left[\left(\frac{\partial \alpha^0}{\partial \tau}\right)_{\delta}+ \left(\frac{\partial \alpha^r}{\partial \tau}\right)_{\delta} \right] +\delta\left(\frac{\partial \alpha^r}{\partial \delta}\right)_{\tau}+1" /></p>
</div><p>which can also be written as</p>
<div class="math">
<p><img src="_images/math/add8d4d81d173e5dedf26554ccb7fb95ca4911ef.png" alt="\frac{h}{RT}=\frac{u}{RT}+\frac{p}{\rho RT}" /></p>
</div><p>The specific entropy is given by</p>
<div class="math">
<p><img src="_images/math/1431ad19e16397f6b6f1dcc00ae9f96630d5aa96.png" alt="\frac{s}{R}=\tau \left[\left(\frac{\partial \alpha^0}{\partial \tau}\right)_{\delta}+ \left(\frac{\partial \alpha^r}{\partial \tau}\right)_{\delta} \right]-\alpha^0-\alpha^r" /></p>
</div><p>and the specific heats at constant volume and constant pressure respectively are given by</p>
<div class="math">
<p><img src="_images/math/81c726df9544fc83574889289dbe015acd2168de.png" alt="\frac{c_v}{R}=-\tau^2 \left[\left(\frac{\partial^2 \alpha^0}{\partial \tau^2}\right)_{\delta}+ \left(\frac{\partial^2 \alpha^r}{\partial \tau^2}\right)_{\delta} \right]

\frac{c_p}{R}=\frac{c_v}{R}+\dfrac{\left[1+\delta\left(\frac{\partial \alpha^r}{\partial \delta}\right)_{\tau}-\delta\tau\left(\frac{\partial^2 \alpha^r}{\partial \delta\partial\tau}\right)\right]^2}{\left[1+2\delta\left(\frac{\partial \alpha^r}{\partial \delta}\right)_{\tau}+\delta^2\left(\frac{\partial^2 \alpha^r}{\partial \delta^2}\right)_{\tau}\right]}" /></p>
</div><p>The EOS is set up with temperature and density as the two independent properties, but often other inputs are known, most often temperature and pressure because they can be directly measured.  As a result, if the density is desired for a known temperature and pressure, it can be obtained iteratively.  The following algorithm is used to obtain a reasonable guess for the initial value for the iterative solver:</p>
<ol class="arabic simple">
<li>If the fluid is superheated, use a guess of ideal gas (<img class="math" src="_images/math/1468351411ae68dd50c2a028865156953c81723d.png" alt="\rho=p/(RT)"/>)</li>
<li>If the fluid is subcooled, use a guess of saturated liquid density</li>
<li>If the fluid is supercritical, use a guess of ideal gas (<img class="math" src="_images/math/1468351411ae68dd50c2a028865156953c81723d.png" alt="\rho=p/(RT)"/>)</li>
<li>No solution if the fluid is two-phase</li>
</ol>
</div>
<div class="section" id="saturation-state">
<h3>Saturation State<a class="headerlink" href="#saturation-state" title="Permalink to this headline">¶</a></h3>
<p>If the fluid is somewhere in the two-phase region, or saturation state properties are desired, saturated liquid and vapor properties can be obtained.  At equilibrium, the Gibbs function of the liquid and vapor are equal, as are the pressures of the saturated liquid and vapor.  For nearly all pure fluids, ancillary equations for the density of saturated liquid and saturated vapor as a function of temperature are provided, given by <img class="math" src="_images/math/41b158c23c7576b4ae0306042fbf05a4460c2692.png" alt="\rho'"/> and <img class="math" src="_images/math/4f53c02e4cfc2a7aaa4a61f3be5dc5b7a94a1a31.png" alt="\rho''"/> respectively.  Thus for pure fluids, for a given temperature, initial guesses for the densities of saturated liquid and vapor are given by
<img class="math" src="_images/math/41b158c23c7576b4ae0306042fbf05a4460c2692.png" alt="\rho'"/> and <img class="math" src="_images/math/4f53c02e4cfc2a7aaa4a61f3be5dc5b7a94a1a31.png" alt="\rho''"/>.  Using one of the densities, a guess for the saturation pressure can be obtained.  Then, the saturation pressure is iteratively altered using a numerical method.  For each saturation pressure, the saturated liquid and vapor densities are updated using the full EOS to match the imposed temperature and guessed pressure.  Because the density is known explicitly from the EOS, Newton&#8217;s method can be used to update the densities.  For Newton&#8217;s method, the derivative <img class="math" src="_images/math/74c7353b3a43657adf2bcffde8f043bb46547e19.png" alt="\partial \rho/\partial p"/> is needed, which can be given explicitly as</p>
<div class="math">
<p><img src="_images/math/18d8454fc3f82dcbb2d64c693bcd1217085db246.png" alt="\frac{\partial \rho}{\partial p}=RT\left[1+2\delta\left(\frac{\partial \alpha^r}{\partial \delta}\right)_{\tau}+\delta^2\left(\frac{\partial^2 \alpha^r}{\partial \delta^2}\right)_{\tau}\right]" /></p>
</div><p>and the value for <img class="math" src="_images/math/0027034d8a10372a06deaf4f4084c01956587479.png" alt="\rho"/> is updated by employing</p>
<div class="math">
<p><img src="_images/math/3a326d1d087f35531716322a959820e4f5fcfaff.png" alt="\rho_{new}=\rho_{old}-\frac{p(T,\rho_{old})-p_{guess}}{\frac{\partial \rho}{\partial p}(T,\rho_{old})}" /></p>
</div><p>until <img class="math" src="_images/math/ca850308937635955a530519647a16e39dc62535.png" alt="\left|p(T,\rho_{old})-p_{guess}\right|"/> is sufficiently small.</p>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="Installation.html" title="Installation and Compilation"
             >next</a> |</li>
        <li><a href="#">CoolProp v1.0.0 documentation</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2011, Ian Bell.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.0.7.
    </div>
  </body>
</html>